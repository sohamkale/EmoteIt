Index: server/controllers/UserController.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import {UserSchema} from \"../models/UserSchema.js\";\r\nimport mongoose from \"mongoose\";\r\n\r\n//firebase imports!\r\nimport admin from \"firebase-admin\"\r\nimport {initializeApp} from \"firebase-admin/app\";\r\nimport {firebasePrivateKey as serviceAccount, ObjectId} from \"../config.js\";\r\nimport {UserEngine} from \"../models/UserSchema.js\";\r\nimport {NotificationEngine} from \"../models/NotificationSchema.js\";\r\nimport {UserHappyFriendships} from \"./FriendshipController.js\";\r\nimport {FriendshipEngine} from \"../models/FriendshipSchema.js\";\r\nimport {EmortionEngine} from \"../models/EmortionSchema.js\";\r\nimport {IsEmortionRevealed} from \"./EmortionController.js\";\r\n\r\ninitializeApp({\r\n    credential: admin.credential.cert(serviceAccount)\r\n});\r\n\r\n\r\nexport function CreateUser(req, res) {\r\n    let _user = req.body;\r\n    var _birthday = new Date(_user.DOB);\r\n    var _age = new Date(new Date() - _birthday);\r\n    _age = Math.abs(_age.getUTCFullYear() - 1970); //epoch year is from 1970!\r\n\r\n    if (_age < 18) {\r\n        res.status(400).send({message: `must be atleast 18 years old. Provided age: ${_age}`});\r\n        return;\r\n    }\r\n\r\n    const accessToken = req.get(\"access-token\");\r\n\r\n    admin.auth()\r\n        .verifyIdToken(accessToken)\r\n        .then((googleUser) => {\r\n            const uid = googleUser.uid;\r\n            if (uid) {\r\n                UserEngine.findOne({uid: uid}).then((user, err) => {\r\n                    if (user == null) {\r\n                        //groom user from google user\r\n                        _user.email = googleUser.email;\r\n                        _user.typeId = 2;\r\n                        _user.uid = googleUser.uid;\r\n                        _user.pictureUrl = googleUser.picture;\r\n\r\n                        let newUser = new UserEngine(_user);\r\n                        newUser.save((err, addedUser) => {\r\n                            if (err) {\r\n                                console.log(\"Could not create user!:\" + err)\r\n                                res.error(err);\r\n                            }\r\n                            console.log(\"User created\");\r\n                            res.send(addedUser)\r\n                        })\r\n                    } else {\r\n                        res.status(400).send(\"user exists!\");\r\n                    }\r\n                }).catch((err) => {\r\n                    res.error(err)\r\n                })\r\n            }\r\n        })\r\n        .catch((err) => {\r\n            // Handle error\r\n            res.error(err);\r\n        });\r\n}\r\n\r\nexport function GetAllUsers(req, res) {\r\n    UserEngine.find().limit(req.query.limit).then((users) => {\r\n        res.send(users);\r\n    })\r\n}\r\n\r\nexport function GetLoggedInUser(req, res) {\r\n    // idToken comes from the client app\r\n    const token = req.get(\"access-token\");\r\n    GetUserFromToken(token).then((loggedInUser) => {\r\n        if (!loggedInUser) {\r\n            res.status(204).send('logged in user not retrieved');\r\n            return;\r\n        }\r\n        res.send(loggedInUser);\r\n    })\r\n        .catch((err) => {\r\n                console.log(`token user error: ${err}`);\r\n                res.status(500).send(err);\r\n            }\r\n        );\r\n}\r\n\r\nexport async function GetUserFromToken(accessToken) {\r\n\r\n    let _user = null;\r\n    try {\r\n        // console.log(`token request for: ${accessToken}`)\r\n        let _googleUser = await admin.auth()\r\n            .verifyIdToken(accessToken);\r\n\r\n        const _uid = _googleUser.uid;\r\n        if (_uid) {\r\n            _user = await UserEngine.findOne({uid: _uid});\r\n            if (_user) {\r\n                  _user.pictureUrl = _googleUser.picture;\r\n                  // outUser(user, null);\r\n                  UserEngine.findByIdAndUpdate(_user._id, _user, {new: true});\r\n                return _user;\r\n            }\r\n        }//\r\n    } catch (e) {\r\n        console.log(e)\r\n        return null;\r\n    }\r\n\r\n\r\n}\r\n\r\n//Notifications for a user\r\nexport function GetUserNotifications(req, res) {\r\n\r\n    const token = req.get(\"access-token\");\r\n    GetUserFromToken(token)\r\n        .then((loggedInUser) => {\r\n            if (!loggedInUser) {\r\n                res.status(401).send({message: 'logged in user not retrieved'});\r\n                return;\r\n            }\r\n\r\n            NotificationEngine.find({owner: loggedInUser._id}).limit(req.query.limit).sort([['createdAt','descending'],['seen','descending']])\r\n                .then((notifications) => {\r\n                    res.send(notifications);\r\n                })\r\n\r\n        })\r\n        .catch((err) => {\r\n                console.log(`token user error: ${err}`);\r\n                res.status(500).send(err);\r\n            }\r\n        );\r\n\r\n}\r\n\r\nexport function CreateNotification(msg, ownerUserId, subject) {\r\n    let notificationObject = {\r\n        message: msg,\r\n        owner: ownerUserId,\r\n        link: `/app/${subject}`\r\n    }\r\n\r\n    let newNotification = new NotificationEngine(notificationObject);\r\n    newNotification.save({new: true})\r\n        .then((addNotification) => {\r\n            return addNotification;\r\n        })\r\n        .catch((err) => {\r\n                console.log(`error adding emortion: ${err}`);\r\n                return err;\r\n            }\r\n        )\r\n}\r\n\r\nexport function MarkNotificationSeen(req, res) {\r\n    NotificationEngine.findByIdAndUpdate(req.body._id, {seen: true}, {new: true},\r\n        (err, updatedNotification) => {\r\n            if (err)\r\n                res.send(err);\r\n            res.send(updatedNotification);\r\n        })\r\n}\r\n\r\nexport function MarkAllNotificationSeen(req, res) {\r\n    const token = req.get('access-token');\r\n    GetUserFromToken(token)\r\n        .then((loggedInUser) => {\r\n            NotificationEngine.updateMany({owner: loggedInUser._id}, {seen: true}, {new: true},\r\n                (err, updatedNotification) => {\r\n                    if (err)\r\n                        res.send(err);\r\n                    res.send(updatedNotification);\r\n                })\r\n        }).catch((err) => {\r\n            console.log(`token user error: ${err}`);\r\n            res.status(500).send(err);\r\n        }\r\n    );\r\n\r\n\r\n}\r\n\r\n//USER's FEED\r\nexport function GetUserFeed(req, res) {\r\n    const token = req.get('access-token');\r\n    GetUserFromToken(token)\r\n        .then((loggedInUser) => {\r\n            FriendshipEngine.find({$and: [{$or: [{requesterUserId: loggedInUser._id}, {requesteeUserId: loggedInUser._id}]}, {statusId: 1}, {typeId: 1}]})\r\n                .then(async (friendships) => {\r\n                    let friendEmortions = []\r\n                    for (let i = 0; i < friendships.length; i++) {\r\n                        let friend;\r\n                        if (friendships[i].requesteeUserId.toString() === loggedInUser?._id.toString())\r\n                            friend = friendships[i].requesterUserId;\r\n                        else if (friendships[i].requesterUserId.toString() === loggedInUser?._id.toString())\r\n                            friend = friendships[i].requesteeUserId;\r\n\r\n                        //Sort createdAt:-1, limit: req.query.limit, for items get profile,\r\n                        const friend_emortions = await EmortionEngine.find({createdBy: friend})\r\n                            .populate(['createdBy', 'reactionIds']).sort({createdAt: -1}).limit(req.query.limit).exec();\r\n                        for (let j = 0; j < friend_emortions.length; j++) {\r\n                            const isRevealed = await IsEmortionRevealed(friend_emortions[j]._id, loggedInUser?._id);\r\n                            if (!isRevealed) {\r\n                                friend_emortions[j].secret = null;\r\n                            }\r\n                            friendEmortions.push(friend_emortions[j]);\r\n                        }\r\n\r\n                        //my emortions\r\n                        const my_emortions = await EmortionEngine.find({createdBy: loggedInUser._id})\r\n                            .populate(['createdBy', 'reactionIds']).sort({createdAt: -1}).limit(req.query.limit).exec();\r\n                        for (let j = 0; j < my_emortions.length; j++) {\r\n                            const isRevealed = await IsEmortionRevealed(my_emortions[j]._id, loggedInUser?._id);\r\n                            if (!isRevealed) {\r\n                                my_emortions[j].secret = null;\r\n                            }\r\n                            friendEmortions.push(my_emortions[j]);\r\n                        }\r\n                    }\r\n                    friendEmortions = friendEmortions.sort((x,y)=>y.createdAt-x.createdAt)\r\n                    res.send(friendEmortions);\r\n                })\r\n        })\r\n        .catch((err) => {\r\n                console.log(`token user error: ${err}`);\r\n                res.status(500).send(err);\r\n            }\r\n        );\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/server/controllers/UserController.js b/server/controllers/UserController.js
--- a/server/controllers/UserController.js	(revision 8af94ee4f483ab362023a18057da2f7342f6649b)
+++ b/server/controllers/UserController.js	(date 1659578899803)
@@ -7,7 +7,6 @@
 import {firebasePrivateKey as serviceAccount, ObjectId} from "../config.js";
 import {UserEngine} from "../models/UserSchema.js";
 import {NotificationEngine} from "../models/NotificationSchema.js";
-import {UserHappyFriendships} from "./FriendshipController.js";
 import {FriendshipEngine} from "../models/FriendshipSchema.js";
 import {EmortionEngine} from "../models/EmortionSchema.js";
 import {IsEmortionRevealed} from "./EmortionController.js";
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"AutoImportSettings\">\r\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"b068f188-c3dc-4bf3-828d-67b3239667f4\" name=\"Default Changelist\" comment=\"emortion...\">\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/client/src/views/emortion/components/EmortionView.js\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/client/src/views/emortion/components/EmortionView.js\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/client/src/views/emortion/components/insight/AnsweringInterface.js\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/client/src/views/emortion/components/insight/AnsweringInterface.js\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/client/src/views/emortion/components/insight/EmortionInsights.js\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/client/src/views/emortion/components/insight/EmortionInsights.js\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/client/src/views/leaderboard/Leaderboard.js\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/client/src/views/leaderboard/Leaderboard.js\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/client/src/views/profile/Profile.js\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/client/src/views/profile/Profile.js\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/server/controllers/EmortionController.js\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/server/controllers/EmortionController.js\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/server/controllers/UserController.js\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/server/controllers/UserController.js\" afterDir=\"false\" />\r\n    </list>\r\n    <list id=\"fa4281f8-77da-4d6f-9350-642d0c82c419\" name=\"Changes by esfar\" comment=\"Changes by esfar\">\r\n      <change beforePath=\"$PROJECT_DIR$/server/controllers/EmortionController.js\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/server/controllers/EmortionController.js\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/server/models/InsightSchema.js\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/server/models/InsightSchema.js\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"SCSS File\" />\r\n        <option value=\"CSS File\" />\r\n        <option value=\"Sass File\" />\r\n        <option value=\"JavaScript File\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_BRANCH_BY_REPOSITORY\">\r\n      <map>\r\n        <entry key=\"$PROJECT_DIR$\" value=\"main\" />\r\n      </map>\r\n    </option>\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n  </component>\r\n  <component name=\"GitSEFilterConfiguration\">\r\n    <file-type-list>\r\n      <filtered-out-file-type name=\"LOCAL_BRANCH\" />\r\n      <filtered-out-file-type name=\"REMOTE_BRANCH\" />\r\n      <filtered-out-file-type name=\"TAG\" />\r\n      <filtered-out-file-type name=\"COMMIT_BY_MESSAGE\" />\r\n    </file-type-list>\r\n  </component>\r\n  <component name=\"LineStatusTrackerManager\">\r\n    <file path=\"$PROJECT_DIR$/server/controllers/EmortionController.js\">\r\n      <ranges>\r\n        <range start1=\"91\" end1=\"120\" start2=\"91\" end2=\"91\" changelist=\"fa4281f8-77da-4d6f-9350-642d0c82c419\" />\r\n        <range start1=\"390\" end1=\"391\" start2=\"361\" end2=\"362\" changelist=\"b068f188-c3dc-4bf3-828d-67b3239667f4\" />\r\n        <range start1=\"480\" end1=\"481\" start2=\"451\" end2=\"452\" changelist=\"b068f188-c3dc-4bf3-828d-67b3239667f4\" />\r\n      </ranges>\r\n    </file>\r\n  </component>\r\n  <component name=\"MarkdownSettingsMigration\">\r\n    <option name=\"stateVersion\" value=\"1\" />\r\n  </component>\r\n  <component name=\"ProjectId\" id=\"22ZiuNDz1XfU9s8OAzthhbd8RJ7\" />\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\">{\r\n  &quot;keyToString&quot;: {\r\n    &quot;WebServerToolWindowFactoryState&quot;: &quot;false&quot;,\r\n    &quot;codeWithMe.voiceChat.enabledByDefault&quot;: &quot;false&quot;,\r\n    &quot;last_opened_file_path&quot;: &quot;C:/Users/ashim/source/repos/EmoteIt-WebService&quot;,\r\n    &quot;nodejs_package_manager_path&quot;: &quot;npm&quot;,\r\n    &quot;vue.rearranger.settings.migration&quot;: &quot;true&quot;\r\n  }\r\n}</component>\r\n  <component name=\"RecentsManager\">\r\n    <key name=\"CopyFile.RECENT_KEYS\">\r\n      <recent name=\"C:\\Users\\ashim\\source\\repos\\EmoteIt-WebService\\models\" />\r\n    </key>\r\n    <key name=\"MoveFile.RECENT_KEYS\">\r\n      <recent name=\"C:\\Users\\ashim\\source\\repos\\EmoteIt-WebService\\server\\extras\" />\r\n      <recent name=\"C:\\Users\\ashim\\source\\repos\\EmoteIt-WebService\\server\" />\r\n      <recent name=\"C:\\Users\\ashim\\source\\repos\\EmoteIt-WebService\" />\r\n      <recent name=\"C:\\Users\\ashim\\source\\repos\\EmoteIt-WebService\\client\\src\\views\\emortion\\components\\insight\" />\r\n      <recent name=\"C:\\Users\\ashim\\source\\repos\\EmoteIt-WebService\\client\\src\\views\\emortion\\components\" />\r\n    </key>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"b068f188-c3dc-4bf3-828d-67b3239667f4\" name=\"Default Changelist\" comment=\"\" />\r\n      <created>1640051731610</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1640051731610</updated>\r\n      <workItem from=\"1640051734290\" duration=\"5031000\" />\r\n      <workItem from=\"1640058544686\" duration=\"5000\" />\r\n      <workItem from=\"1641697128610\" duration=\"7532000\" />\r\n      <workItem from=\"1641974699325\" duration=\"2792000\" />\r\n      <workItem from=\"1649133345791\" duration=\"5938000\" />\r\n      <workItem from=\"1649211760606\" duration=\"10104000\" />\r\n      <workItem from=\"1649224780464\" duration=\"1917000\" />\r\n      <workItem from=\"1649307048720\" duration=\"6815000\" />\r\n      <workItem from=\"1649326906617\" duration=\"50000\" />\r\n      <workItem from=\"1649641368884\" duration=\"6631000\" />\r\n      <workItem from=\"1650513898962\" duration=\"1522000\" />\r\n      <workItem from=\"1652140280807\" duration=\"5298000\" />\r\n      <workItem from=\"1652415673045\" duration=\"790000\" />\r\n      <workItem from=\"1652654819086\" duration=\"1200000\" />\r\n      <workItem from=\"1652666695724\" duration=\"938000\" />\r\n      <workItem from=\"1652837870824\" duration=\"8311000\" />\r\n      <workItem from=\"1652927305863\" duration=\"6712000\" />\r\n      <workItem from=\"1653454739109\" duration=\"3000\" />\r\n      <workItem from=\"1653537220631\" duration=\"6342000\" />\r\n      <workItem from=\"1654055053778\" duration=\"47000\" />\r\n      <workItem from=\"1654225452458\" duration=\"3090000\" />\r\n      <workItem from=\"1654230191480\" duration=\"10822000\" />\r\n      <workItem from=\"1654405175155\" duration=\"4259000\" />\r\n      <workItem from=\"1655258766882\" duration=\"21000\" />\r\n      <workItem from=\"1655703720288\" duration=\"3448000\" />\r\n      <workItem from=\"1657680542075\" duration=\"710000\" />\r\n      <workItem from=\"1657681271665\" duration=\"17100000\" />\r\n      <workItem from=\"1657851429365\" duration=\"9580000\" />\r\n      <workItem from=\"1657924323738\" duration=\"74963000\" />\r\n      <workItem from=\"1658127891684\" duration=\"7000\" />\r\n      <workItem from=\"1658127908524\" duration=\"4035000\" />\r\n      <workItem from=\"1658277087701\" duration=\"6116000\" />\r\n      <workItem from=\"1658285228797\" duration=\"3660000\" />\r\n      <workItem from=\"1658292611649\" duration=\"29207000\" />\r\n      <workItem from=\"1658594502717\" duration=\"108000\" />\r\n      <workItem from=\"1659058912578\" duration=\"187000\" />\r\n      <workItem from=\"1659152177997\" duration=\"14556000\" />\r\n      <workItem from=\"1659229045280\" duration=\"47554000\" />\r\n    </task>\r\n    <task id=\"LOCAL-00001\" summary=\"Notification Controller Todo\">\r\n      <created>1642905993631</created>\r\n      <option name=\"number\" value=\"00001\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1642905993631</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00002\" summary=\"user controller completed\">\r\n      <created>1649214786299</created>\r\n      <option name=\"number\" value=\"00002\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1649214786299</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00003\" summary=\"news controller!\">\r\n      <created>1649224595954</created>\r\n      <option name=\"number\" value=\"00003\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1649224595954</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00004\" summary=\"daily secret emortion completed!\">\r\n      <created>1649313829239</created>\r\n      <option name=\"number\" value=\"00004\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00004\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1649313829239</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00005\" summary=\"LevelSchema.js\">\r\n      <created>1652412483060</created>\r\n      <option name=\"number\" value=\"00005\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00005\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1652412483060</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00006\" summary=\"profile completed. needs to be tested heavily\">\r\n      <created>1652416386383</created>\r\n      <option name=\"number\" value=\"00006\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00006\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1652416386383</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00007\" summary=\"begin\">\r\n      <created>1652666939645</created>\r\n      <option name=\"number\" value=\"00007\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00007\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1652666939645</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00008\" summary=\"front end authentication done! create call still left!\">\r\n      <created>1652846229999</created>\r\n      <option name=\"number\" value=\"00008\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00008\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1652846229999</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00009\" summary=\"authentication workflow completed. local font-awesome removed\">\r\n      <created>1652933106122</created>\r\n      <option name=\"number\" value=\"00009\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00009\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1652933106122</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00010\" summary=\"feedbacks\">\r\n      <created>1653543077443</created>\r\n      <option name=\"number\" value=\"00010\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00010\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1653543077443</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00011\" summary=\"feedbacks -2\">\r\n      <created>1653543300814</created>\r\n      <option name=\"number\" value=\"00011\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00011\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1653543300814</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00012\" summary=\"runConfig\">\r\n      <created>1653543326957</created>\r\n      <option name=\"number\" value=\"00012\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00012\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1653543326957</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00013\" summary=\"changing front end\">\r\n      <created>1657682248414</created>\r\n      <option name=\"number\" value=\"00013\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00013\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1657682248414</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00014\" summary=\"navbar restored\">\r\n      <created>1657772518171</created>\r\n      <option name=\"number\" value=\"00014\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00014\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1657772518171</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00015\" summary=\"routes bar added\">\r\n      <created>1657870057425</created>\r\n      <option name=\"number\" value=\"00015\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00015\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1657870057425</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00016\" summary=\"routes bar added\">\r\n      <created>1657870077660</created>\r\n      <option name=\"number\" value=\"00016\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00016\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1657870077660</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00017\" summary=\"postings retrieved\">\r\n      <created>1658101653131</created>\r\n      <option name=\"number\" value=\"00017\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00017\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1658101653131</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00018\" summary=\"profile partially restored\">\r\n      <created>1658114337354</created>\r\n      <option name=\"number\" value=\"00018\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00018\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1658114337354</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00019\" summary=\"news commit\">\r\n      <created>1658124700979</created>\r\n      <option name=\"number\" value=\"00019\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00019\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1658124700979</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00020\" summary=\"friendship request bug fixed\">\r\n      <created>1658126640159</created>\r\n      <option name=\"number\" value=\"00020\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00020\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1658126640159</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00021\" summary=\"7/17/2022\">\r\n      <created>1658127867733</created>\r\n      <option name=\"number\" value=\"00021\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00021\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1658127867733</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00022\" summary=\"run client and server concurrently\">\r\n      <created>1658279194554</created>\r\n      <option name=\"number\" value=\"00022\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00022\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1658279194554</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00023\" summary=\"break\">\r\n      <created>1658285281606</created>\r\n      <option name=\"number\" value=\"00023\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00023\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1658285281606</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00024\" summary=\"logged in user reacts\">\r\n      <created>1658295169346</created>\r\n      <option name=\"number\" value=\"00024\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00024\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1658295169346</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00025\" summary=\"gitignore updated\">\r\n      <created>1658295241891</created>\r\n      <option name=\"number\" value=\"00025\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00025\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1658295241891</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00026\" summary=\"gitignore updated\">\r\n      <created>1658295275021</created>\r\n      <option name=\"number\" value=\"00026\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00026\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1658295275021</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00027\" summary=\"reacts competed\">\r\n      <created>1658298377616</created>\r\n      <option name=\"number\" value=\"00027\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00027\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1658298377616</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00028\" summary=\"emortion submit written\">\r\n      <created>1658385572479</created>\r\n      <option name=\"number\" value=\"00028\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00028\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1658385572479</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00029\" summary=\"profile updates\">\r\n      <created>1658553128866</created>\r\n      <option name=\"number\" value=\"00029\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00029\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1658553128866</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00030\" summary=\"most important emortion\">\r\n      <created>1658556459860</created>\r\n      <option name=\"number\" value=\"00030\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00030\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1658556459860</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00031\" summary=\"home feed shown front end\">\r\n      <created>1658559447599</created>\r\n      <option name=\"number\" value=\"00031\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00031\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1658559447599</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00032\" summary=\"server health restored\">\r\n      <created>1659166832545</created>\r\n      <option name=\"number\" value=\"00032\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00032\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1659166832545</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00033\" summary=\"emortion controller updated with thens and catches\">\r\n      <created>1659236121022</created>\r\n      <option name=\"number\" value=\"00033\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00033\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1659236121022</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00034\" summary=\"profile controller\">\r\n      <created>1659241692096</created>\r\n      <option name=\"number\" value=\"00034\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00034\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1659241692096</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00035\" summary=\"FriendshipControllers\">\r\n      <created>1659242721998</created>\r\n      <option name=\"number\" value=\"00035\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00035\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1659242721998</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00036\" summary=\"completed initial for testing\">\r\n      <created>1659307979879</created>\r\n      <option name=\"number\" value=\"00036\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00036\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1659307979879</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00037\" summary=\"pull\">\r\n      <created>1659311427362</created>\r\n      <option name=\"number\" value=\"00037\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00037\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1659311427362</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00038\" summary=\"hint fix\">\r\n      <created>1659312789971</created>\r\n      <option name=\"number\" value=\"00038\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00038\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1659312789971</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00039\" summary=\"notification fix\">\r\n      <created>1659316368026</created>\r\n      <option name=\"number\" value=\"00039\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00039\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1659316368026</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00040\" summary=\"home feed\">\r\n      <created>1659317394449</created>\r\n      <option name=\"number\" value=\"00040\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00040\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1659317394449</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00041\" summary=\"leaderboard fix -1\">\r\n      <created>1659317833349</created>\r\n      <option name=\"number\" value=\"00041\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00041\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1659317833349</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00042\" summary=\"leaderboard fix -2\">\r\n      <created>1659328356645</created>\r\n      <option name=\"number\" value=\"00042\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00042\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1659328356645</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00043\" summary=\"emortion...\">\r\n      <created>1659330150294</created>\r\n      <option name=\"number\" value=\"00043\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00043\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1659330150294</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"44\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"TypeScriptGeneratedFilesManager\">\r\n    <option name=\"version\" value=\"3\" />\r\n  </component>\r\n  <component name=\"Vcs.Log.Tabs.Properties\">\r\n    <option name=\"TAB_STATES\">\r\n      <map>\r\n        <entry key=\"MAIN\">\r\n          <value>\r\n            <State />\r\n          </value>\r\n        </entry>\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <option name=\"ADD_EXTERNAL_FILES_SILENTLY\" value=\"true\" />\r\n    <MESSAGE value=\"news commit\" />\r\n    <MESSAGE value=\"friendship updated!\" />\r\n    <MESSAGE value=\"friendship request bug fixed\" />\r\n    <MESSAGE value=\"7/17/2022\" />\r\n    <MESSAGE value=\"run client and server concurrently\" />\r\n    <MESSAGE value=\"break\" />\r\n    <MESSAGE value=\"logged in user reacts\" />\r\n    <MESSAGE value=\"gitignore updated\" />\r\n    <MESSAGE value=\"reacts competed\" />\r\n    <MESSAGE value=\"emortion submit written\" />\r\n    <MESSAGE value=\"submission and view of insights\" />\r\n    <MESSAGE value=\"most important emortion\" />\r\n    <MESSAGE value=\"home feed shown front end\" />\r\n    <MESSAGE value=\"server health restored\" />\r\n    <MESSAGE value=\"emortion controller updated with thens and catches\" />\r\n    <MESSAGE value=\"profile controller\" />\r\n    <MESSAGE value=\"FriendshipControllers\" />\r\n    <MESSAGE value=\"completed initial for testing\" />\r\n    <MESSAGE value=\"pull\" />\r\n    <MESSAGE value=\"hint fix\" />\r\n    <MESSAGE value=\"notification fix\" />\r\n    <MESSAGE value=\"home feed\" />\r\n    <MESSAGE value=\"leaderboard fix -1\" />\r\n    <MESSAGE value=\"leaderboard fix -2\" />\r\n    <MESSAGE value=\"emortion...\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"emortion...\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision 8af94ee4f483ab362023a18057da2f7342f6649b)
+++ b/.idea/workspace.xml	(date 1659853871910)
@@ -4,14 +4,8 @@
     <option name="autoReloadType" value="SELECTIVE" />
   </component>
   <component name="ChangeListManager">
-    <list default="true" id="b068f188-c3dc-4bf3-828d-67b3239667f4" name="Default Changelist" comment="emortion...">
+    <list default="true" id="b068f188-c3dc-4bf3-828d-67b3239667f4" name="Default Changelist" comment="completed for instructions">
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/client/src/views/emortion/components/EmortionView.js" beforeDir="false" afterPath="$PROJECT_DIR$/client/src/views/emortion/components/EmortionView.js" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/client/src/views/emortion/components/insight/AnsweringInterface.js" beforeDir="false" afterPath="$PROJECT_DIR$/client/src/views/emortion/components/insight/AnsweringInterface.js" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/client/src/views/emortion/components/insight/EmortionInsights.js" beforeDir="false" afterPath="$PROJECT_DIR$/client/src/views/emortion/components/insight/EmortionInsights.js" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/client/src/views/leaderboard/Leaderboard.js" beforeDir="false" afterPath="$PROJECT_DIR$/client/src/views/leaderboard/Leaderboard.js" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/client/src/views/profile/Profile.js" beforeDir="false" afterPath="$PROJECT_DIR$/client/src/views/profile/Profile.js" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/server/controllers/EmortionController.js" beforeDir="false" afterPath="$PROJECT_DIR$/server/controllers/EmortionController.js" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/server/controllers/UserController.js" beforeDir="false" afterPath="$PROJECT_DIR$/server/controllers/UserController.js" afterDir="false" />
     </list>
     <list id="fa4281f8-77da-4d6f-9350-642d0c82c419" name="Changes by esfar" comment="Changes by esfar">
@@ -48,15 +42,6 @@
       <filtered-out-file-type name="TAG" />
       <filtered-out-file-type name="COMMIT_BY_MESSAGE" />
     </file-type-list>
-  </component>
-  <component name="LineStatusTrackerManager">
-    <file path="$PROJECT_DIR$/server/controllers/EmortionController.js">
-      <ranges>
-        <range start1="91" end1="120" start2="91" end2="91" changelist="fa4281f8-77da-4d6f-9350-642d0c82c419" />
-        <range start1="390" end1="391" start2="361" end2="362" changelist="b068f188-c3dc-4bf3-828d-67b3239667f4" />
-        <range start1="480" end1="481" start2="451" end2="452" changelist="b068f188-c3dc-4bf3-828d-67b3239667f4" />
-      </ranges>
-    </file>
   </component>
   <component name="MarkdownSettingsMigration">
     <option name="stateVersion" value="1" />
@@ -132,7 +117,11 @@
       <workItem from="1658594502717" duration="108000" />
       <workItem from="1659058912578" duration="187000" />
       <workItem from="1659152177997" duration="14556000" />
-      <workItem from="1659229045280" duration="47554000" />
+      <workItem from="1659229045280" duration="47602000" />
+      <workItem from="1659578851569" duration="48000" />
+      <workItem from="1659765204723" duration="263000" />
+      <workItem from="1659840944641" duration="346000" />
+      <workItem from="1659852365443" duration="595000" />
     </task>
     <task id="LOCAL-00001" summary="Notification Controller Todo">
       <created>1642905993631</created>
@@ -435,7 +424,14 @@
       <option name="project" value="LOCAL" />
       <updated>1659330150294</updated>
     </task>
-    <option name="localTasksCounter" value="44" />
+    <task id="LOCAL-00044" summary="completed for instructions">
+      <created>1659333900299</created>
+      <option name="number" value="00044" />
+      <option name="presentableId" value="LOCAL-00044" />
+      <option name="project" value="LOCAL" />
+      <updated>1659333900299</updated>
+    </task>
+    <option name="localTasksCounter" value="45" />
     <servers />
   </component>
   <component name="TypeScriptGeneratedFilesManager">
@@ -454,7 +450,6 @@
   </component>
   <component name="VcsManagerConfiguration">
     <option name="ADD_EXTERNAL_FILES_SILENTLY" value="true" />
-    <MESSAGE value="news commit" />
     <MESSAGE value="friendship updated!" />
     <MESSAGE value="friendship request bug fixed" />
     <MESSAGE value="7/17/2022" />
@@ -479,6 +474,7 @@
     <MESSAGE value="leaderboard fix -1" />
     <MESSAGE value="leaderboard fix -2" />
     <MESSAGE value="emortion..." />
-    <option name="LAST_COMMIT_MESSAGE" value="emortion..." />
+    <MESSAGE value="completed for instructions" />
+    <option name="LAST_COMMIT_MESSAGE" value="completed for instructions" />
   </component>
 </project>
\ No newline at end of file
